{"version":3,"sources":["github-link.js","App.js","index.js"],"names":["link2api","link","arSlash","split","sProtocol","sSite","arPath","slice","sPath","join","concat","GitHubLink","_ref","_useState","useState","_useState2","Object","slicedToArray","stars","setStars","useEffect","_fetchData","asyncToGenerator","regenerator_default","a","mark","_callee","linkApi","data","dataJosn","res","wrap","_context","prev","next","fetch","sent","json","stargazers_count","t0","stop","apply","this","arguments","fetchData","react_default","createElement","className","viewBox","version","width","height","aria-hidden","fillRule","d","App","github_link","ReactDOM","render","src_App","document","getElementById"],"mappings":"0NAgBA,SAASA,EAASC,GAChB,IAAMC,EAAUD,EAAKE,MAAM,KACvBC,EAAYF,EAAQ,GACpBG,EAAQH,EAAQ,GAChBI,EAASJ,EAAQK,MAAM,GACT,WAAZH,GAAoC,UAAZA,IAC5BA,EAAY,SACZC,EAAQH,EAAQ,GAChBI,EAASJ,EAAQK,MAAM,IAIzB,IAAIC,EAAQF,EAAOG,KAAK,KAIxB,MAFW,GAAAC,OAAMN,EAAN,UAAAM,OAAwBL,EAAxB,WAAAK,OAAuCF,GAoCrCG,MA/Bf,SAAAC,GAA4B,IAAPX,EAAOW,EAAPX,KAAOY,EACAC,mBAAS,IADTC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACnBK,EADmBH,EAAA,GACZI,EADYJ,EAAA,GAoB1B,OAjBAK,oBAAW,WAAM,SAAAC,IAAA,OAAAA,EAAAL,OAAAM,EAAA,EAAAN,CAAAO,EAAAC,EAAAC,KACf,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAP,EAAAC,EAAAO,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAEUN,EAAU3B,EAASC,GAF7B+B,EAAAE,KAAA,EAIuBC,MAAMR,GAJ7B,cAIUC,EAJVI,EAAAI,KAAAJ,EAAAE,KAAA,EAK2BN,EAAKS,OALhC,OAKUR,EALVG,EAAAI,KAMUN,EAAMD,EAASS,iBACrBnB,EAASW,GAPbE,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,SASIb,EAAS,SATb,yBAAAa,EAAAQ,SAAAd,EAAA,mBADee,MAAAC,KAAAC,YAAA,WAAAtB,EAAAoB,MAAAC,KAAAC,WAcfC,IACC,CAAC3C,IAGF4C,EAAArB,EAAAsB,cAAA,WACG7C,EACD4C,EAAArB,EAAAsB,cAAA,OAAKC,UAAU,2CAA2CC,QAAQ,YAAYC,QAAQ,MAAMC,MAAM,KAAKC,OAAO,KAAKC,cAAY,QAC7HP,EAAArB,EAAAsB,cAAA,QAAMO,SAAS,UAAUC,EAAE,uFAE5BpC,IC9CQqC,MAVf,WACE,OACEV,EAAArB,EAAAsB,cAAA,OAAKC,UAAU,OACbF,EAAArB,EAAAsB,cAACU,EAAD,CAAYvD,KAAK,sCACjB4C,EAAArB,EAAAsB,cAACU,EAAD,CAAYvD,KAAK,6CACjB4C,EAAArB,EAAAsB,cAACU,EAAD,CAAYvD,KAAK,wCCJvBwD,IAASC,OAAOb,EAAArB,EAAAsB,cAACa,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.648bd871.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\n\n  // \"created_at\": \"2015-08-10T22:09:16Z\",\n  // \"updated_at\": \"2019-05-16T21:20:18Z\",\n  // \"pushed_at\": \"2019-05-16T21:24:39Z\",\n  // \"homepage\": \"https://facebook.github.io/relay/\",\n  // \"stargazers_count\": 12892,\n  \n  // \"size\": 28018,\n  // \"git_url\": \"git://github.com/facebook/relay.git\",\n  // \"ssh_url\": \"git@github.com:facebook/relay.git\",\n  // \"clone_url\": \"https://github.com/facebook/relay.git\",\n  // \"svn_url\": \"https://github.com/facebook/relay\",\n\n// from: https://github.com/facebook/relay\n// to: https://api.github.com/repos/facebook/relay\nfunction link2api(link) {\n  const arSlash = link.split('/')\n  let sProtocol = arSlash[0]\n  let sSite = arSlash[2]\n  let arPath = arSlash.slice(3)\n  if (!(sProtocol==='https:' || sProtocol==='http:')) {\n    sProtocol = 'https:'\n    sSite = arSlash[0]\n    arPath = arSlash.slice(1)\n  }\n\n  //sSite = `api.${sSite}`\n  let sPath = arPath.join('/')\n\n  let linkApi = `${sProtocol}//api.${sSite}/repos/${sPath}`\n\n  return linkApi\n}\n\nfunction GitHubLink({link}) {\n  const [stars, setStars] = useState('')\n\n  useEffect( () => {\n    async function fetchData() {\n      try {\n        const linkApi = link2api(link)\n        //console.log(`link ${linkApi}`)\n        const data = await fetch(linkApi)\n        const dataJosn = await data.json()\n        const res = dataJosn.stargazers_count\n        setStars(res)\n      }catch(e) {\n        setStars('Error')\n      }\n    }\n\n    fetchData()\n  }, [link])\n\n  return (\n    <div>\n      {link} \n      <svg className=\"octicon octicon-star v-align-text-bottom\" viewBox=\"0 0 14 16\" version=\"1.1\" width=\"14\" height=\"16\" aria-hidden=\"true\">\n        <path fillRule=\"evenodd\" d=\"M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z\"></path>\n      </svg>\n      {stars}      \n    </div>\n  );\n}\n\nexport default GitHubLink;","import React from 'react';\nimport './App.css';\n\nimport GitHubLink from './github-link';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <GitHubLink link=\"https://github.com/facebook/react\"/>\n      <GitHubLink link=\"https://github.com/facebook/react-native\"/>\n      <GitHubLink link=\"https://github.com/facebook/relay\"/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}