{"version":3,"sources":["api/github.js","api/npm-latest.js","api/index.js","GitHubLink/index.js","App.js","index.js"],"names":["link2api","link","arSlash","split","sProtocol","sSite","arPath","slice","sPath","join","concat","fetchApi","_callee","linkApi","data","dataJosn","regenerator_default","a","wrap","_context","prev","next","fetch","sent","json","abrupt","name","full_name","stargazers_count","homepage","created_at","updated_at","pushed_at","size","archived","stop","sPackage","length","version","unpackedSize","dist","fetchRepoData","_ref","_ref2","dataGitHub","dataLatest","Promise","all","fetchApiGitHub","fetchApiNpmLatest","Object","slicedToArray","objectSpread","formatNum","n","s","ar","subs","unshift","GitHubLink","_useState","useState","_useState2","setData","useEffect","_fetchData","asyncToGenerator","mark","t0","console","log","error","apply","this","arguments","fetchData","react_default","createElement","className","viewBox","width","height","aria-hidden","fillRule","d","downloadsMonth","App","src_GitHubLink","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.45d7bd42.chunk.js","sourcesContent":["\n// from: https://github.com/facebook/relay\n// to: https://api.github.com/repos/facebook/relay\nfunction link2api(link) {\n  const arSlash = link.split('/')\n  let sProtocol = arSlash[0]\n  let sSite = arSlash[2]\n  let arPath = arSlash.slice(3)\n  if (!(sProtocol==='https:' || sProtocol==='http:')) {\n    sProtocol = 'https:'\n    sSite = arSlash[0]\n    arPath = arSlash.slice(1)\n  }\n\n  //sSite = `api.${sSite}`\n  let sPath = arPath.join('/')\n\n  let linkApi = `${sProtocol}//api.${sSite}/repos/${sPath}`\n\n  return linkApi\n}\n\nasync function fetchApi(link) {\n\n  const linkApi = link2api(link)\n  const data = await fetch(linkApi)\n\n  // console.log('github')\n  // console.log(data)\n  // let tt = await data.text()\n  // console.log(`11${tt}11`)\n\n  //SyntaxError: \"JSON.parse: unexpected end of data at line 1 column 1 of the JSON data\"\n  //data.body: null\n  //data.type: opaque\n  const dataJosn = await data.json()\n\n  return {\n    name: dataJosn.name, // relay\n    full_name: dataJosn.full_name, // facebook/relay\n    stargazers_count: dataJosn.stargazers_count,\n    homepage: dataJosn.homepage, //\"https://facebook.github.io/relay/\"\n\n    created_at: dataJosn.created_at, // \"2015-08-10T22:09:16Z\"\n    updated_at: dataJosn.updated_at,\n    pushed_at: dataJosn.pushed_at,\n\n    size: dataJosn.size, \n    archived: dataJosn.archived, \n  }\n}\n\nexport {\n  fetchApi\n}","\n//https://registry.npmjs.org/next\n//https://registry.npmjs.org/next/latest\n//https://registry.npmjs.org/-/package/babel-core/dist-tags\n\n//https://github.com/npm/download-counts\n//https://api.npmjs.org/downloads/point/last-month/next\n//https://api.npms.io/v2/package/react\n//https://github.com/npm/registry/blob/master/docs/REGISTRY-API.md\n\nfunction link2api(link) {\n    const arSlash = link.split('/')\n    let sPackage = arSlash[arSlash.length-1]\n    if (!sPackage) {\n      sPackage = arSlash[arSlash.length-2]\n    }\n  \n//    let linkApi = `https://registry.npmjs.org/next/latest`\n    let linkApi = `https://registry.npmjs.org/${sPackage}/latest`\n  \n    return linkApi\n  }\n  \n  async function fetchApi(link) {\n  \n    const linkApi = link2api(link)\n    //const data = await fetch( linkApi )\n    const data = await fetch( linkApi\n      // ,{\n      // mode: 'no-cors',\n      // headers: {\n      //    'Content-Type': 'application/json',\n      // },\n      // // mode: 'cors',\n      // // //referrer: 'no-referrer',\n      // // //credentals: 'omit',\n      // // credentals: 'include',\n      // }\n    )\n    // console.log('npm-latest')\n    // console.log(data)\n    // let tt = await data.text()\n    // console.log(`11${tt}11`)\n    \n    const dataJosn = await data.json()\n\n    return {\n      version: dataJosn.version,\n      unpackedSize: dataJosn.dist.unpackedSize,\n    }\n  }\n  \n  export {\n    fetchApi\n  }","import {fetchApi as fetchApiGitHub} from './github'\nimport {fetchApi as fetchApiNpmLatest} from './npm-latest'\n//import {fetchApi as fetchApiNpmDownloads} from './npm-downloads'\n\nasync function fetchRepoData(link) {\n  //return fetchApiGitHub(link)\n\n  let [dataGitHub, dataLatest //, dataDownloads\n  ] = await Promise.all([\n    fetchApiGitHub(link), \n    fetchApiNpmLatest(link),\n    //fetchApiNpmDownloads(link),\n  ]);\n\n  return {\n    ...dataGitHub, // name, stargazers_count, pushed_at\n    ...dataLatest, // version, unpackedSize\n    //...dataDownloads, // downloadsMonth\n  }\n}\n\nexport {\n  fetchRepoData,\n}","import React, { useState, useEffect } from \"react\";\nimport { fetchRepoData } from \"../api\";\n\nfunction formatNum(n) {\n  if (!n) {\n    return n;\n  }\n\n  let s = `${n}`;\n  let ar = [];\n  while (3 < s.length) {\n    const subs = s.slice(-3);\n    s = s.slice(0, -3);\n    ar.unshift(subs);\n  }\n  if (0 < s.length) {\n    ar.unshift(s);\n  }\n\n  return ar.join(\",\");\n}\n\nfunction GitHubLink({ link }) {\n  const [data, setData] = useState({});\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const dataJosn = await fetchRepoData(link);\n        setData(dataJosn);\n      } catch (e) {\n        console.log(\"error\");\n        console.log(e);\n        setData({ error: e });\n      }\n    }\n\n    fetchData();\n  }, [link]);\n\n  return (\n    <div>\n      {link}\n      <svg\n        className=\"octicon octicon-star v-align-text-bottom\"\n        viewBox=\"0 0 14 16\"\n        version=\"1.1\"\n        width=\"14\"\n        height=\"16\"\n        aria-hidden=\"true\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          d=\"M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z\"\n        />\n      </svg>{\" \"}\n      {formatNum(data.stargazers_count)} version: {data.version} downloads per\n      month: {formatNum(data.downloadsMonth)}\n    </div>\n  );\n}\n\nexport default GitHubLink;\n","import React from 'react';\nimport './App.css';\n\nimport GitHubLink from './GitHubLink';\n/*\nimport GitHubLinkList from './GitHubLinkList';\n\nconst links = [\n  \"https://github.com/facebook/react\",\n  \"https://github.com/facebook/react-native\",\n  \"https://github.com/facebook/relay\",\n  \"https://github.com/reduxjs/redux\",\n  \"https://github.com/reduxjs/react-redux\",\n  \"https://github.com/reduxjs/reselect\",\n  \"https://github.com/acdlite/recompose\",\n  \"https://github.com/mobxjs/mobx\",\n  \"https://github.com/mobxjs/mobx-react\",\n  \"https://github.com/ReactTraining/react-router\",\n  \"https://github.com/reach/router\",\n  \"https://github.com/cypress-io/cypress\",\n  \"https://github.com/facebook/jest\",\n  \"https://github.com/webpack/webpack\",\n  \"https://github.com/babel/babel\",\n  \"https://github.com/immutable-js/immutable-js\",\n  \"https://github.com/immerjs/immer\",\n  \"https://github.com/microsoft/TypeScript\",\n  \"https://github.com/nodejs/node\",\n  \"https://github.com/facebook/create-react-app\",\n]\n*/\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <GitHubLink link='https://github.com/facebook/create-react-app'/>\n      <br/>\n      {/* \n      <GitHubLinkList links={links}/>\n      */}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}