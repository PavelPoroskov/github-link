{"version":3,"sources":["api/github.js","api/index.js","GitHubLink/index.js","App.js","index.js"],"names":["link2api","link","arSlash","split","sProtocol","sSite","arPath","slice","sPath","join","concat","fetchApi","_callee","linkApi","data","dataJosn","regenerator_default","a","wrap","_context","prev","next","fetch","sent","json","abrupt","name","full_name","stargazers_count","homepage","created_at","updated_at","pushed_at","size","archived","stop","fetchRepoData","_ref","_ref2","dataGitHub","Promise","all","fetchApiGitHub","Object","slicedToArray","objectSpread","formatNum","n","s","ar","length","subs","unshift","GitHubLink","_useState","useState","_useState2","setData","useEffect","_fetchData","asyncToGenerator","mark","t0","console","log","error","apply","this","arguments","fetchData","react_default","createElement","className","viewBox","version","width","height","aria-hidden","fillRule","d","downloadsMonth","App","src_GitHubLink","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.39cf4383.chunk.js","sourcesContent":["\n// from: https://github.com/facebook/relay\n// to: https://api.github.com/repos/facebook/relay\nfunction link2api(link) {\n  const arSlash = link.split('/')\n  let sProtocol = arSlash[0]\n  let sSite = arSlash[2]\n  let arPath = arSlash.slice(3)\n  if (!(sProtocol==='https:' || sProtocol==='http:')) {\n    sProtocol = 'https:'\n    sSite = arSlash[0]\n    arPath = arSlash.slice(1)\n  }\n\n  //sSite = `api.${sSite}`\n  let sPath = arPath.join('/')\n\n  let linkApi = `${sProtocol}//api.${sSite}/repos/${sPath}`\n\n  return linkApi\n}\n\nasync function fetchApi(link) {\n\n  const linkApi = link2api(link)\n  const data = await fetch(linkApi)\n\n  // console.log('github')\n  // console.log(data)\n  // let tt = await data.text()\n  // console.log(`11${tt}11`)\n\n  //SyntaxError: \"JSON.parse: unexpected end of data at line 1 column 1 of the JSON data\"\n  //data.body: null\n  //data.type: opaque\n  const dataJosn = await data.json()\n\n  return {\n    name: dataJosn.name, // relay\n    full_name: dataJosn.full_name, // facebook/relay\n    stargazers_count: dataJosn.stargazers_count,\n    homepage: dataJosn.homepage, //\"https://facebook.github.io/relay/\"\n\n    created_at: dataJosn.created_at, // \"2015-08-10T22:09:16Z\"\n    updated_at: dataJosn.updated_at,\n    pushed_at: dataJosn.pushed_at,\n\n    size: dataJosn.size, \n    archived: dataJosn.archived, \n  }\n}\n\nexport {\n  fetchApi\n}","import {fetchApi as fetchApiGitHub} from './github'\n//import {fetchApi as fetchApiNpmLatest} from './npm-latest'\n//import {fetchApi as fetchApiNpmDownloads} from './npm-downloads'\n\nasync function fetchRepoData(link) {\n  //return fetchApiGitHub(link)\n\n  let [dataGitHub, //dataLatest //, dataDownloads\n  ] = await Promise.all([\n    fetchApiGitHub(link), \n    //fetchApiNpmLatest(link),\n    //fetchApiNpmDownloads(link),\n  ]);\n\n  return {\n    ...dataGitHub, // name, stargazers_count, pushed_at\n    //...dataLatest, // version, unpackedSize\n    //...dataDownloads, // downloadsMonth\n  }\n}\n\nexport {\n  fetchRepoData,\n}","import React, { useState, useEffect } from \"react\";\nimport { fetchRepoData } from \"../api\";\n\nfunction formatNum(n) {\n  if (!n) {\n    return n;\n  }\n\n  let s = `${n}`;\n  let ar = [];\n  while (3 < s.length) {\n    const subs = s.slice(-3);\n    s = s.slice(0, -3);\n    ar.unshift(subs);\n  }\n  if (0 < s.length) {\n    ar.unshift(s);\n  }\n\n  return ar.join(\",\");\n}\n\nfunction GitHubLink({ link }) {\n  const [data, setData] = useState({});\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const dataJosn = await fetchRepoData(link);\n        setData(dataJosn);\n      } catch (e) {\n        console.log(\"error\");\n        console.log(e);\n        setData({ error: e });\n      }\n    }\n\n    fetchData();\n  }, [link]);\n\n  return (\n    <div>\n      {link}\n      <svg\n        className=\"octicon octicon-star v-align-text-bottom\"\n        viewBox=\"0 0 14 16\"\n        version=\"1.1\"\n        width=\"14\"\n        height=\"16\"\n        aria-hidden=\"true\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          d=\"M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z\"\n        />\n      </svg>{\" \"}\n      {formatNum(data.stargazers_count)} version: {data.version} downloads per\n      month: {formatNum(data.downloadsMonth)}\n    </div>\n  );\n}\n\nexport default GitHubLink;\n","import React from 'react';\nimport './App.css';\n\nimport GitHubLink from './GitHubLink';\n/*\nimport GitHubLinkList from './GitHubLinkList';\n\nconst links = [\n  \"https://github.com/facebook/react\",\n  \"https://github.com/facebook/react-native\",\n  \"https://github.com/facebook/relay\",\n  \"https://github.com/reduxjs/redux\",\n  \"https://github.com/reduxjs/react-redux\",\n  \"https://github.com/reduxjs/reselect\",\n  \"https://github.com/acdlite/recompose\",\n  \"https://github.com/mobxjs/mobx\",\n  \"https://github.com/mobxjs/mobx-react\",\n  \"https://github.com/ReactTraining/react-router\",\n  \"https://github.com/reach/router\",\n  \"https://github.com/cypress-io/cypress\",\n  \"https://github.com/facebook/jest\",\n  \"https://github.com/webpack/webpack\",\n  \"https://github.com/babel/babel\",\n  \"https://github.com/immutable-js/immutable-js\",\n  \"https://github.com/immerjs/immer\",\n  \"https://github.com/microsoft/TypeScript\",\n  \"https://github.com/nodejs/node\",\n  \"https://github.com/facebook/create-react-app\",\n]\n*/\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <GitHubLink link='https://github.com/facebook/create-react-app'/>\n      <br/>\n      {/* \n      <GitHubLinkList links={links}/>\n      */}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}